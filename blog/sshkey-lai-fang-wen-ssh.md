---
description: rootç™»å½•ç¯å¢ƒä¸‹ï¼
---

# ğŸ˜† ssh-keyæ¥è®¿é—®SSH

é¦–å…ˆå’±åº”è¯¥åˆ©ç”¨ Linuxè‡ªå¸¦çš„SSH-keyæ¥ç”Ÿæˆå…¬é’¥å’Œç§é’¥ ï¼ˆåŠ å¯†RSAï¼‰

```
ssh-keygen -t rsa
```

ç„¶åå›è½¦ä¸‰æ¬¡ ï¼ˆå—¯ï¼Œæ˜¯å›è½¦ä¸‰æ¬¡

æˆ‘ä»¬è¿›å…¥è¿™ä¸ªéšè—çš„ç›®å½•

```
cd /root/.ssh
```

`ls`æŸ¥çœ‹ç›®å½•ä¸‹æ–‡ä»¶

ä½ ä¼šçœ‹åˆ°æœ‰ä¸¤ä¸ªæ–‡ä»¶  .pubçš„æ˜¯å…¬é’¥ï¼Œè‡ªç„¶å¦ä¸€ä¸ªå°±æ˜¯ç§é’¥ï¼Œæƒ³åŠæ³•è‡ªå·±ä¸‹è½½ä¸‹æ¥ç§é’¥çš„å†…å®¹ï¼Œä¿å­˜å¥½ï¼Œæˆ‘ä»¬sshç™»å½•è¦ç”¨åˆ°å®ƒã€‚

é”®å…¥ä¸‹é¢å‘½ä»¤

```
cat /root/.ssh/id_rsa.pub >> /root/.ssh/authorized_keys
```

```
chmod 600 authorized_keys
```

ç„¶åvimç¼–è¾‘ä¸€ä¸‹ssh\_dæ–‡ä»¶

```
vim /etc/ssh/sshd_config
```

åˆ«å‘Šè¯‰æˆ‘ ä½ sshè¿˜æ²¡å®‰è£…ï¼ˆå™— (é¢˜å¤–è¯\
apt-get install ssh

ç„¶åæ‰¾åˆ°configä¸‹é¢çš„å†…å®¹ å–æ¶ˆæ³¨é‡Š æˆ–è€… æ²¡æœ‰å†…å®¹å’±å°±è‡ªå·±åœ¨æœ€ä¸‹é¢ åŠ ä¸Š

`RSAAuthentication yes`&#x20;

`PubkeyAuthentication yes`&#x20;

`AuthorizedKeysFile .ssh/authorized_keys`

å¦‚æœä½ æƒ³å–æ¶ˆroot é€šè¿‡å¯†ç ç™»å½•ï¼Œå¯ä»¥æŠŠ yes æ”¹ä¸ºno

`PasswordAuthentication no`

`ç„¶åé”®å…¥è¿™æ­¥å‘½ä»¤ é‡å¯ssh è¿›ç¨‹`

```
/etc/init.d/ssh restart
```

`ã€ŒOKã€`&#x20;

`çŠ¶æ€ä¸ºok æˆ‘ä»¬å°±å¯ä»¥é€šè¿‡æˆ‘ä»¬çš„ç§é’¥æ¥ç™»å½•æˆ‘ä»¬çš„sshä¼šè¯æœåŠ¡å™¨å•¦ï¼`
